@model WebApplication1.Models.FileModel
@using System

@{
    ViewBag.Title = "Commercial";
}

<style type="text/css">
    .table {
        border: 1px solid #ddd;
    }


    .pg-normal {
        color: #000000;
        font-size: 15px;
        cursor: pointer;
        background: #D0B389;
        padding: 2px 4px 2px 4px;
    }

    .pg-selected {
        color: #fff;
        font-size: 15px;
        background: #000000;
        padding: 2px 4px 2px 4px;
    }

    table.yui {
        font-family: arial;
        border-collapse: collapse;
        border: solid 3px #7f7f7f;
        font-size: small;
    }

        table.yui td {
            padding: 5px;
            border-right: solid 1px #7f7f7f;
        }

        table.yui .even {
            background-color: #EEE8AC;
        }

        table.yui .odd {
            background-color: #F9FAD0;
        }

        table.yui th {
            border: 1px solid #7f7f7f;
            padding: 5px;
            height: auto;
            background: #D0B389;
        }

            table.yui th a {
                text-decoration: none;
                text-align: center;
                padding-right: 20px;
                font-weight: bold;
                white-space: nowrap;
            }

        table.yui tfoot td {
            border-top: 1px solid #7f7f7f;
            background-color: #E1ECF9;
        }

        table.yui thead td {
            vertical-align: middle;
            background-color: #E1ECF9;
            border: none;
        }

        table.yui thead .tableHeader {
            font-size: larger;
            font-weight: bold;
        }

        table.yui thead .filter {
            text-align: right;
        }

        table.yui tfoot {
            background-color: #E1ECF9;
            text-align: center;
        }

        table.yui .tablesorterPager {
            padding: 10px 0 10px 0;
        }

            table.yui .tablesorterPager span {
                padding: 0 5px 0 5px;
            }

            table.yui .tablesorterPager input.prev {
                width: auto;
                margin-right: 10px;
            }

            table.yui .tablesorterPager input.next {
                width: auto;
                margin-left: 10px;
            }

        table.yui .pagedisplay {
            font-size: 10pt;
            width: 30px;
            border: 0px;
            background-color: #E1ECF9;
            text-align: center;
            vertical-align: top;
        }
</style>
<link href="~/Content/datatables.css" rel="stylesheet" />
<link href="~/Content/datatables.min.css" rel="stylesheet" />
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Scripts/jquery.dataTables.js"></script>
<script src="~/Scripts/jquery.dataTables.min.js"></script>
<link href="~/Content/bootstrap.css" rel="stylesheet" />
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
@if (Model != null)
{
    if (ViewBag.languageculture == "eng")
    {
        @*<input id="myInput"   type="text" />*@

        <table id="UploadedlistForCommercialInvoice" class="table">
            <thead>
                <tr>
                @*@if (Model.islocked != "yes")*@

                    @*{
                        <th style="width:20px"><input type="checkbox" id="headercheck" /></th>
                    }*@

                    <th>item Number</th>
                    <th>Goods Description </th>
                    <th>HS Code </th>
                   <th>origin</th>
                    <th>Manufacturer</th>
                    <th style="width:20px">NoOfPackages</th>
                    <th style="width:20px">Quantity</th>
                    <th style="width:20px">NetWeight</th>
                    <th style="width:20px">GrossWeight</th>


                </tr>

            </thead>



            <tfoot>
                <tr>
                  
                    {
              
                    }


                    <th>item Number</th>
                    <th>Goods Description </th>
                    <th>HS Code </th>
                    <th>origin</th>
                    <th>Manufacturer</th>
                    <th style="width:20px" >NoOfPackages</th>
                    <th style="width:20px">Quantity</th>
                    <th style="width:20px">NetWeight</th>
                    <th style="width:20px">GrossWeight</th>


                </tr>

            </tfoot>

            <tbody id="SortId">
                @if (Model.listofCommercialInvoiceItems != null)
                {
                    foreach (var item in Model.listofCommercialInvoiceItems)

                    {
                        <tr>
                            @*<td>
                                @if(@item.Selected=="true")
                                {
                                <input type="checkbox" style="width:20px" name="@item.CIIID" checked="@item.Selected" class="insertselctedcheckbox" id=@item.CIIID />
                                }
                                else
                                {
                                <input type="checkbox" name="@item.CIIID"  class="insertselctedcheckbox" id=@item.CIIID />

                                }
                            </td>*@

                            <td  >

                                @*@Html.ActionLink(@item.shortFileName, "DownloadFile", "Home", new { filename = @item.Filename, @userid = '2'  }, null)*@

                                <input type="checkbox" style="width:20px" name="@item.CIIID" checked="@item.Selected" class="insertselctedcheckbox" id=@item.CIIID />
&nbsp;   @item.itemNumber.Trim()

                            </td>
                            <td >
                                @item.GoodsDescription.Trim()
                                @*@Html.ActionLink("Delete File", "DeleteFile", "Home", new { filename = @item.Filename, @userid = '2' }, null)*@

                            </td>
                            <td >@item.HSCode.Trim()</td>
                            <td  >@item.Origin.Trim()</td>


                            <td >

                                @item.Manufacturer.Trim()
                                @*@Html.ActionLink("Delete File", "DeleteFile", "Home", new { filename = @item.Filename, @userid = '2' }, null)*@

                            </td>


                            <td style="width:20px">
                             @item.NoOfPackages
                            </td>

                            <td style="width:20px">
                                @item.Quantity
                            </td>
                            <td style="width:20px">
                                @item.NetWeight
                            </td>

                            <td style="width:20px">
                                @item.GrossWeight
                            </td>
                        </tr>
                    }
                }
        </table>

    }
    else
    {

        <table id="UploadedlistForCommercialInvoice" class="table">
            <thead>
                <tr>
                    @if (Model.islocked != "yes")

                    {
                        <th style="float:right"><input type="checkbox" runat="server" id="headercheck" /></th>
                    }

                    <th style="text-align:right" onclick="sort_table(people, 0, asc1); asc1 *= -1; asc2 = 1; asc3 = 1;"> @Resources.GlobalAra.FileName</th>
                    <th style="text-align:right" onclick="sort_table(people, 1, asc2); asc2 *= -1; asc3 = 1; asc1 = 1;">@Resources.GlobalAra.Description</th>
                    <th style="text-align:right" onclick="sort_table(people, 2, asc3); asc3 *= -1; asc1 = 1; asc2 = 1;">@Resources.GlobalAra.UploadedDate</th>


                    <th style="text-align:right">@Resources.GlobalAra.DocumentType</th>

                    <th style="text-align:right">@Resources.GlobalAra.CreatedBy</th>
                    <th style="text-align:right">@Resources.GlobalAra.ViewDownload</th>

                </tr>

            </thead>


            <tbody id="SortId">
                @if (Model.listofuploadedFiles != null)
                {

                    foreach (var item in Model.listofuploadedFiles)

                    {
                        <tr>

                            @if (Model.islocked != "yes")

                            {
                                <td>
                                    <input type="checkbox" name="@item.Fileid" runat="server" class="deleteselctedcheckbox" id=@item.Fileid />



                                </td>
                            }
                            <td>
                                @*@Html.ActionLink(@item.shortFileName, "DownloadFile", "Home", new { filename = @item.Filename, @userid = '2'  }, null)*@

                                @item.shortFileName

                            </td>
                            <td>
                                @item.description
                                @*@Html.ActionLink("Delete File", "DeleteFile", "Home", new { filename = @item.Filename, @userid = '2' }, null)*@

                            </td>


                            <td>@item.Uploadeddate</td>
                            <td>@item.DocumentType</td>
                            <td>

                                @item.createdBy
                                @*@Html.ActionLink("Delete File", "DeleteFile", "Home", new { filename = @item.Filename, @userid = '2' }, null)*@

                            </td>
                            <td>
                                @Html.ActionLink("عرض/تحميل", "DownloadFile", "Home", new { filename = @item.Fileid, @userid = '2' }, null)

                            </td>


                        </tr>
                    }

                }
        </table>
    }
    <div id="pageNavPosition" style="padding-top: 20px ;display:none" align="center">
    </div>
}

<script src="~/Scripts/jquery-1.10.2.js"></script>
<script src="~/Scripts/jquery.dataTables.min.js"></script>

<script type="text/javascript">

    $(document).ready(function () {
        $.noConflict();
        // Setup - add a text input to each footer cell
        $('#UploadedlistForCommercialInvoice tfoot th').each(function () {
            var title = $(this).text();
            $(this).html('<input type="text" placeholder="Search ' + title + '" />');
        });

        // DataTable
      //  var table = $('#UploadedlistForCommercialInvoice').DataTable();


        //var table = $('#UploadedlistForCommercialInvoice').removeAttr('width').DataTable({
        //    "columnDefs": [
        //        { "width": "10%" },
        //        { "width": "10%" },
        //        { "width": "10%" },
        //        { "width": "10%" },
        //        { "width": "10%" },
        //        { "width": "10%" },
        //        { "width": "10%" },
        //        { "width": "10%" },
        //        { "width": "10%" }
        //    ]
        //});

        var table = $('#UploadedlistForCommercialInvoice').removeAttr('width').DataTable({
            scrollY: "300px",
            scrollX: true,
            scrollCollapse: true,
            paging: false,
            columnDefs: [
                { width: 20, targets: 0 }
            ],
            fixedColumns: true
        });


        // Apply the search
        table.columns().every(function () {
            var that = this;

            $('input', this.footer()).on('keyup change', function () {
                if (that.search() !== this.value) {
                    that
                        .search(this.value)
                        .draw();
                }
            });
        });
    });





    //function searchRows() {
    //    // Declare variables 
    //    var input, filter, table, tr, td, i;
    //    input = document.getElementById("txtPrjName");
    //    filter = input.value;
    //    table = document.getElementById("UploadedlistForCommercialInvoice");
    //    tr = table.getElementsByTagName("tr");

    //    // Loop through all table rows, and hide those who don't match the search query
    //    for (i = 1; i < tr.length; i++) {
    //        td = tr[i].getElementsByTagName("td");
    //        if (td) {
    //            if (td.innerHTML.indexOf(filter) > -1) {
    //                tr[i].style.display = "";
    //            } else {
    //                tr[i].style.display = "none";
    //            }
    //        }
    //    }
    //}


    //function searchRows(tblId) {
    //    var tbl = document.getElementById(tblId);
    //    var headRow = tbl.rows[0];
    //    var arrayOfHTxt = new Array();
    //    var arrayOfHtxtCellIndex = new Array();

    //    for (var v = 0; v < headRow.cells.length; v++) {
    //        if (headRow.cells[v].getElementsByTagName('input')[0]) {
    //            var Htxtbox = headRow.cells[v].getElementsByTagName('input')[0];
    //            if (Htxtbox.value.replace(/^\s+|\s+$/g, '') != '') {
    //                arrayOfHTxt.push(Htxtbox.value.replace(/^\s+|\s+$/g, ''));
    //                arrayOfHtxtCellIndex.push(v);
    //            }
    //        }
    //    }

    //    for (var i = 1; i < tbl.rows.length; i++) {

    //        tbl.rows[i].style.display = 'table-row';

    //        for (var v = 0; v < arrayOfHTxt.length; v++) {

    //            var CurCell = tbl.rows[i].cells[arrayOfHtxtCellIndex[v]];

    //            var CurCont = CurCell.innerHTML.replace(/<[^>]+>/g, "");

    //            var reg = new RegExp(arrayOfHTxt[v] + ".*", "i");

    //            if (CurCont.match(reg) == null) {

    //                tbl.rows[i].style.display = 'none';

    //            }

    //        }

    //    }
    //}

    //function searchRows() {
    //    var price = $('#myInput').val().trim();

    //    $('tr').show();

    //    $('tr td.filter').each(function () {
    //        if ($(this).text().trim().substring(1) < price) {
    //            $(this).parent().hide();
    //        }
    //    });
    //}


    //function filterTable(event) {
    //    var filter = event.target.value.toUpperCase();
    //    var rows = document.querySelector("#UploadedlistForCommercialInvoice tbody").rows;

    //    for (var i = 0; i < rows.length; i++) {
    //        var firstCol = rows[i].cells[0].textContent.trim().toUpperCase();
    //        var secondCol = rows[i].cells[1].textContent.trim().toUpperCase();
    //        if (firstCol.indexOf(filter) > -1 || secondCol.indexOf(filter) > -1) {
    //            rows[i].style.display = "";
    //        } else {
    //            rows[i].style.display = "none";
    //        }
    //    }
    //}

    //document.querySelector('#myInput').addEventListener('keyup', filterTable, false);
    //function filterTable(event) {
    //    var filter = event.target.value.toUpperCase().trim();
    //    var rows = document.querySelector("#UploadedlistForCommercialInvoice tbody").rows;
    //    var columns = $("#UploadedlistForCommercialInvoice > tbody > tr:first > td").length
    //    for (var j = 0; j < columns; j++)
    //        {
    //    for (var i = 0; i < rows.length; i++) {
    //        var firstCol = rows[i].cells[0].textContent.toUpperCase().trim();
    //        var secondCol = rows[i].cells[1].textContent.toUpperCase().trim();
    //        if (firstCol.indexOf(filter) > -1 || secondCol.indexOf(filter) > -1 ) {
    //            rows[i].style.display = "";
    //        } else {
    //            rows[i].style.display = "none";
    //        }



    //    }
    //    }
    //    }
    //document.querySelector('#myInput').addEventListener('keyup', filterTable, false);
</script>

@*<div>
    <table id="mainGridtable" style="background-color:Aqua;" border="2">
        <th>
            <input id="txtPrjName" onkeyup="searchRows('mainGridtable')" type="text" />
        </th>

        <th>
            <input id="txtPrjName1" onkeyup="searchRows('mainGridtable')" type="text" />
        </th>*@
